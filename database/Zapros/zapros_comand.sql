
-- –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –≤ —Ç–∞–±–ª–∏—Ü–µ —Å—Ä–∞–∑—É –ø–∏—à–µ–º, —á—Ç–æ –∏ –Ω–∞ —á—Ç–æ —Ö–æ—Ç–∏–º –∑–∞–º–µ–Ω–∏—Ç—å
-- –ø–æ—Ç–æ–º —É—Å–ª–æ–≤–∏–µ —á—Ç–æ –º—ã —Ö–æ—Ç–∏–º –∏–∑–º–µ–Ω–∏—Ç—å –∫–∞–∫–æ–π –∫—É—Å–æ–∫ –∏ —É –∫–∞–∫–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.
UPDATE "CATEGORY" SET CAT_NAME = '–ë–´–¢–û–í–£–•–ê' WHERE CAT_NAME = '–§–∏–ª—å–º—Å' AND USER_ID = '1'

-- –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –∏–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.
SELECT USER_N_name FROM "USER_NAME" WHERE USER_N_name = '–î–º–∏—Ç—Ä–∏–π'

-- –°–æ–∑–¥–∞–µ–º —Ç–∞–±–ª–∏—Ü—É.
CREATE TABLE "ACTIVITY"(                       -- –°–æ–∑–¥–∞–µ–º —Ç–∞–±–ª–∏—Ü—É.
	ACT_ID SERIAL NOT NULL UNIQUE PRIMARY KEY, -- –°–æ–∑–¥–∞–µ–º —á–∏—Å–ª–æ–≤–æ–π —Å—Ç–æ–ª–±–µ—Ü —Å—á–µ—Ç—á–∏–∫, –Ω–µ –ø—É—Å—Ç–æ–π, —É–Ω–∏–∫–∞–ª—å–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ, —ç—Ç–æ –∫–ª—é—áüîë.
	USER_ID INT NOT NULL,                      -- –°–æ–∑–¥–∞–µ–º —á–∏—Å–ª–æ–≤–æ–π —Å—Ç–æ–ª–±–µ—Ü, –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –¥–ª—è –∑–∞–ø–æ–ª–Ω–µ–Ω–∏—è.
	ACTL_name VARCHAR(64) NOT NULL,            -- –°–æ–∑–¥–∞–µ–º —Ç–µ–∫—Å—Ç–æ–≤—ã–π —Å—Ç–æ–ª–±–µ—Ü, –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –¥–ª—è –∑–∞–ø–æ–ª–Ω–µ–Ω–∏—è.
	ACT_time INT NOT NULL,                     -- –°–æ–∑–¥–∞–µ–º —á–∏—Å–ª–æ–≤–æ–π —Å—Ç–æ–ª–±–µ—Ü, –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –¥–ª—è –∑–∞–ø–æ–ª–Ω–µ–Ω–∏—è.
	ACT_date DATE NOT NULL,                    -- –°–æ–∑–¥–∞–µ–º —Å—Ç–æ–ª–±–µ—Ü –¥–∞—Ç—ã, –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –¥–ª—è –∑–∞–ø–æ–ª–Ω–µ–Ω–∏—è.
	CAT_name VARCHAR(64) NOT NULL,             -- –°–æ–∑–¥–∞–µ–º —Ç–µ–∫—Å—Ç–æ–≤—ã–π —Å—Ç–æ–ª–±–µ—Ü, –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –¥–ª—è –∑–∞–ø–æ–ª–Ω–µ–Ω–∏—è.
	ACT_comment TEXT NULL,                     -- –°–æ–∑–¥–∞–µ–º —Ç–µ–∫—Å—Ç–æ–≤—ã–π —Å—Ç–æ–ª–±–µ—Ü.
	FOREIGN KEY (USER_ID, ACTL_name, CAT_name) 
	REFERENCES "ACTIVITY_LIST" (USER_ID, ACTL_name, CAT_name) 
	ON DELETE CASCADE ON UPDATE CASCADE -- –£–∫–∞–∑—ã–≤–∞–µ–º –Ω–∞ —Å–≤—è–∑—å —Å –¥—Ä—É–≥–æ–π —Ç–∞–ª–±–ª–∏—Ü–µ–π.
);

--------------------------------
-- –î–æ–±–∞–≤–ª—è–µ–º –¥–∞–Ω–Ω—ã–µ –≤ —Ç–∞–±–ª–∏—Ü—É --
--------------------------------

-- –î–æ–±–∞–≤–ª—è–µ–º –¥–∞–Ω–Ω—ã–µ –≤ —Ç–∞–±–ª–∏—Ü—É USER.
INSERT INTO "USER" (USER_N_ID, USER_P_ID) VALUES 
('N1', 'P1'), ('N2', 'P2'), ('N3', 'P3'), ('N4', 'P4'), ('N5', 'P5')

-- –î–æ–±–∞–≤–ª—è–µ–º –¥–∞–Ω–Ω—ã–µ –≤ —Ç–∞–±–ª–∏—Ü—É USER_NAME.
INSERT INTO "USER_NAME" (USER_N_ID, USER_N_name, USER_N_Telegram) VALUES 
('N1', 'Sif', '5646511561'), 
('N2', 'NO-Sif', '')

-- –î–æ–±–∞–≤–ª—è–µ–º –¥–∞–Ω–Ω—ã–µ –≤ —Ç–∞–±–ª–∏—Ü—É USER_PRIVAT.
INSERT INTO "USER_PRIVAT" (USER_P_ID, USER_P_email, USER_P_password) VALUES 
('P1', 'Sif@gmail.ua', 'qwerty'), 
('P2', 'NO-Sif@gmail.ua', 'qwerty')

-- –î–æ–±–∞–≤–ª—è–µ–º –¥–∞–Ω–Ω—ã–µ –≤ —Ç–∞–±–ª–∏—Ü—É SETTINGS.
INSERT INTO "SETTINGS" (USER_ID, SET_theme, SET_preferences) VALUES 
('1', '–¢–µ–º–Ω–∞—è —Ç–µ–º–∞', '–†–∞–∑–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏'),
('3', '–°–≤–µ—Ç–ª–∞—è —Ç–µ–º–∞', '–î—Ä—É–≥–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏')

-- –î–æ–±–∞–≤–ª—è–µ–º –¥–∞–Ω–Ω—ã–µ –≤ —Ç–∞–±–ª–∏—Ü—É CATEGORY.
INSERT INTO "CATEGORY" (USER_ID, CAT_name) VALUES 
('1', '–û—Ç–¥—ã—Ö'), ('1', '–°–ø–æ—Ä—Ç'), ('2', '–û—Ç–¥—ã—Ö'), ('1', '–†–∞–±–æ—Ç–∞'), ('1', '–°–µ–º—å—è'), ('2', '–û–±—É—á–µ–Ω–∏–µ')

-- –î–æ–±–∞–≤–ª—è–µ–º –¥–∞–Ω–Ω—ã–µ –≤ —Ç–∞–±–ª–∏—Ü—É ACTIVITY_LIST.
INSERT INTO "ACTIVITY_LIST" (USER_ID, ACTL_name, CAT_name) VALUES 
('1', '–°–æ–Ω', '–û—Ç–¥—ã—Ö'), ('1', '–ë–µ–≥', '–°–ø–æ—Ä—Ç'), ('2', '–°–æ–Ω', '–û—Ç–¥—ã—Ö'), ('2', '–ß—Ç–µ–Ω–∏–µ', '–û–±—É—á–µ–Ω–∏–µ')

-- –î–æ–±–∞–≤–ª—è–µ–º –¥–∞–Ω–Ω—ã–µ –≤ —Ç–∞–±–ª–∏—Ü—É ACTIVITY.
INSERT INTO "ACTIVITY" (USER_ID, ACTL_name, ACT_time, ACT_date, CAT_name, ACT_comment) VALUES 
('1', '–°–æ–Ω', '120', '2021.05.17', '–û—Ç–¥—ã—Ö', (NULL)),
('1', '–ë–µ–≥', '30', '2021.5.10', '–°–ø–æ—Ä—Ç', '–¢–µ—Å—Ç–æ–≤–∞—è –∑–∞–ø–∏—Å—å'),
('4', '–°–º–æ—Ç—Ä–µ–ª –Æ—Ç—É–±', '153', '2021.04.05', '–û—Ç–¥—ã—Ö', '–ú—É–ª—å—Ç–∏–∫ ¬´–ù–∞–≤—Å–∏–∫–∞—è –∏–∑ –¥–æ–ª–∏–Ω—ã –≤–µ—Ç—Ä–æ–≤¬ª')

--------------
-- –£–¥–∞–ª–µ–Ω–∏–µ --
--------------

-- –£–¥–∞–ª–µ–Ω–∏–µ —Ç–∞–±–ª–∏—Ü –≤ —á–µ—Ä–µ–∑–≤—ã—á–∞–π–Ω–æ–π —Å–∏—Ç—É–∞—Ü–∏–∏ (–±–µ–∑–≤–æ–∑–≤—Ä–∞—Ç–Ω–æ).
DROP TABLE "ACTIVITY" ;
DROP TABLE "ACTIVITY_LIST" ;
DROP TABLE "CATEGORY" ;
DROP TABLE "SETTINGS" ;
DROP TABLE "USER_NAME" ;
DROP TABLE "USER_PRIVATE" ;
DROP TABLE "USER" ;

-- –£–¥–∞–ª–µ–Ω–∏–µ –Ω—É–∂–Ω–æ–≥–æ —Å—Ç–æ–ª–±—Ü–∞ –≤ –Ω—É–∂–Ω–æ–π —Ç–∞–±–ª–∏—Ü–µ.
ALTER TABLE "SETTINGS"
DROP COLUMN SET_THEME

-----------
-- –í—ã–≤–æ–¥ --
-----------

-- –í—ã–≤–æ–¥ –≤—Å–µ–≥–æ –∏–∑ —Ç–∞–±–ª–∏—Ü—ã ACTIVITY.
SELECT * FROM "ACTIVITY"

-- –í—ã–≤–æ–¥ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ —Å –ª—é–±–æ–π –≤–∞–º —Ç–∞–±–ª–∏—Ü—ã —Å –ª—é–±–∏–º—ã\–Ω—É–∂–Ω—ã–º–∏ —Å—Ç–æ–ª–±—Ü–∞–º–∏ —ç—Ç–æ–π –∂–µ 
-- —Ç–∞–±–ª—Ü–∏ –≤–º–µ—Å—Ç–æ *, –∞ —Ç–∞–∫ –∂–µ —É—Å–ª–æ–≤–∏–Ω–µ —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ –≤—ã–≤–µ—Å—Ç–∏ –∏–Ω—Ñ. –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è 1.
SELECT * FROM "CATEGORY" WHERE USER_ID = '1'

-- –í—ã–≤–æ–¥ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –ø–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –≤ –∑–∞–¥–∞–Ω–æ–º –ø—Ä–æ–º–µ–∂—É—Ç–∫–µ –≤—Ä–µ–º–µ–Ω–∏\–¥–∞—Ç—ã 
-- —Å –Ω—É–∂–Ω—ã–º–∏ –Ω–∞–º —Ç–∞–±–ª–∏—Ü–∞–º–∏ –∞ —Ç–∞–∫ –∂–µ —ç—Ç–æ—Ç –∑–∞–ø—Ä–æ—Å –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–ª—è –≥—Ä–∞—Ñ–∏–∫–æ–≤.
SELECT ACT_TIME, ACT_DATE, CAT_NAME FROM "ACTIVITY" WHERE  ACT_DATE  BETWEEN '2021.04.01' AND '2021.04.30' AND USER_ID = '1'

-- –í—ã–≤–æ–¥ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏.
SELECT "USER".USER_ID == (1) , USER_NAME , CAT_NAME  FROM "USER" LEFT JOIN "ACTIVITY_LIST" ON "USER".USER_ID="ACTIVITY_LIST".USER_ID 
SELECT "USER_NAME".user_n_name = 'NO-Sif' FROM "USER_NAME"
SELECT "USER_NAME".user_n_name = FROM "USER_NAME"

--------------------
-- –≠–∫—Å–ø–æ—Ä—Ç/–ò–º–ø–æ—Ä—Ç --
--------------------

-- –ò–º–ø–æ—Ä—Ç –Ω—É–∂–Ω–æ–≥–æ —Ñ–∞–π–ª–∞ –≤ –Ω—É–∂–Ω—É—é —Ç–∞–±–ª–∏—Ü—É –≤ –Ω—É–∂–Ω—ã–µ —Å—Ç–æ–ª–±—Ü—ã, —Ñ–æ—Ä–º–∞—Ç csv –æ–±—è–∑–∞—Ç–µ–ª–µ–Ω–æ 
-- —É–∫–∞–∑—ã–≤–∞—Ç—å –∏–±–æ –∏–º–ø–æ—Ä—Ç —Ä–∞—Å–ø–æ–∑–Ω–∞–µ—Ç –ø–æ —Å—Ç–∞–Ω–¥–∞—Ä—Ç—É —Ñ–æ—Ä–º–∞—Ç –∫–∞–∫ txt.
COPY "CATEGORY" (USER_ID,CAT_NAME)  FROM  'C:\Users\Game-PC\Desktop\Proekt\neew\MUUSSOR\CATEGORY.csv' (format CSV)

-- –≠–∫—Å–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ —Å –Ω—É–∂–Ω–æ–≥–æ –Ω–∞–º –∑–∞–ø—Ä–æ—Å–∞ –∞ —ç—Ç–æ –∏–Ω—Ñ–∞ –ø–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é 1 
-- —Å —Ç–∞–±–ª–∏—Ü—ã –∫–∞—Ç–µ–≥–æ—Ä–∏—è —Ç–∞–∫ –∂–µ –º–æ–∂–µ–º –∑–∞–¥–∞—Ç—å —Å—Ç–æ–ª–±—Ü—ã –∫–æ—Ç–æ—Ä—ã–µ –≤—ã—Ç—è–Ω–µ–º –∏–∑ –Ω—É–∂–Ω–æ–π —Ç–∞–±–ª–∏—Ü—ã.
COPY (SELECT USER_ID, CAT_NAME FROM "CATEGORY" WHERE USER_ID = 1) TO 'C:\Users\Game-PC\Desktop\Proekt\neew\MUUSSOR\CATEGORY.csv'(format CSV)
